<fsmddescription>
  <statelist>
    <state>INITIALIZE</state>
    <state>TEST</state>
    <state>AMINB</state>
    <state>BMINA</state>
    <state>PAD</state>
    <state>FINISH</state>
  </statelist>

  <initialstate>INITIALIZE</initialstate>

  <inputlist>
    <input>number</input>
  </inputlist>

  <variablelist>
    <variable>n</variable>
    <variable>bin</variable>
    <variable>r</variable>
    <variable>bit_count</variable>
  </variablelist>

  <operationlist>
    <operation>
      <name>mod2</name>
      <expression>n % 2</expression>
    </operation>
    <operation>
      <name>div2</name>
      <expression>n // 2</expression>
    </operation>
  </operationlist>

  <conditionlist>
    <condition>
      <name>default</name>
      <expression>True</expression>
    </condition>
  </conditionlist>

  <fsmd>
    <INITIALIZE>
      <transition>
        <condition>True</condition>
        <instruction>
          n = number;
          bin = "";
          bit_count = 0;
        </instruction>
        <nextstate>TEST</nextstate>
      </transition>
    </INITIALIZE>

    <TEST>
      <transition>
        <condition>n &gt; 0</condition>
        <instruction>nop</instruction>
        <nextstate>AMINB</nextstate>
      </transition>
      <transition>
        <condition>n == 0 and bit_count &lt; 8</condition>
        <instruction>nop</instruction>
        <nextstate>PAD</nextstate>
      </transition>
      <transition>
        <condition>n == 0 and bit_count &gt;= 8</condition>
        <instruction>nop</instruction>
        <nextstate>FINISH</nextstate>
      </transition>
    </TEST>

    <AMINB>
      <transition>
        <condition>True</condition>
        <instruction>
          r = mod2(n);
          n = div2(n);
        </instruction>
        <nextstate>BMINA</nextstate>
      </transition>
    </AMINB>

    <BMINA>
      <transition>
        <condition>True</condition>
        <instruction>
          bin = r + bin;
          bit_count = bit_count + 1;
        </instruction>
        <nextstate>TEST</nextstate>
      </transition>
    </BMINA>

    <PAD>
      <transition>
        <condition>bit_count &lt; 8</condition>
        <instruction>
          bin = "0" + bin;
          bit_count = bit_count + 1;
        </instruction>
        <nextstate>PAD</nextstate>
      </transition>
      <transition>
        <condition>bit_count == 8</condition>
        <instruction>nop</instruction>
        <nextstate>FINISH</nextstate>
      </transition>
    </PAD>

    <FINISH>
      <transition>
        <condition>True</condition>
        <instruction>// Simulation complete. "bin" now holds the 8â€‘bit binary result.</instruction>
        <nextstate>FINISH</nextstate>
      </transition>
    </FINISH>
  </fsmd>
</fsmddescription>
